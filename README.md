# test-nexign

## Описание

Этот сервис генерирует CDR-записи, сохраняет их в базе данных и предоставляет REST API для получения UDR-отчетов и генерации CDR-отчетов.


## Запуск приложения

### Шаги запуска

1. **Сборка проекта**:
   ```sh
   mvn clean install
   ```
2. **Запуск приложения**:
   ```sh
   mvn spring-boot:run
   ```

## API эндпоинты

### 1. Получение UDR по абоненту
```
GET /udr-records/{msisdn}
```
Возвращает UDR-запись по переданному абоненту.
Параметры:
- `month` (необязательный) – месяц тарификации. Если не передан, считается весь период.
- `year` (необязательный) – год тарификации. Если не передан, считается весь период.

### 2. Получение UDR по всем абонентам за месяц
```
GET /udr-records?year={year}&month={month}
```
Возвращает UDR-записи за переданный год и месяц.

### 3. Генерация CDR-отчета
```
POST /cdr-reports
```
Инициирует генерацию CDR-отчета и возвращает UUID.

### 4. Получение CDR-отчета
Файл сохраняется в `/reports`, его имя – `<номер_абонента>_<uuid>.csv`.


